{% extends "base.html" %}
{%block content%}
<link rel="stylesheet" href="static/CSS/cadastrar_atuador.css" /> 
<link rel="stylesheet" href="static/CSS/styles.css" /> 
<div class="container">
    <div class="fundo">
        <h2>Leitura</h2>
        <table id="view_users" class="table table-striped table-bordered" style="width:100%">
            <thead>
                <tr>
                    <th>Nome</th>
                    <th>Dados</th>
                </tr>
            </thead>
            <tbody>
                {% for chave, valor in leitura.items() %}
                <tr>
                    <td>{{chave}}</td>
                    <td>{{valor}}</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
<div class="container">
    <div class="fundo">
        <form action="http://localhost:8080/get_dados" method="post">
            <select name="id" class="Input">
                <option>Nenhum sensor selecionado</option>
                {% for sensor in sensors %}
                    <option type = "text" name = "id" value= "{{sensor.id}}">{{ sensor.nome }}</option>
                {% endfor %}
            </select>
            <p></p>
            <p></p>
            <p></p>
            Início:
            <p class="input-box"><input type="datetime-local"  name="start" requires/></p>
            Fim:
            <p class="input-box"><input type="datetime-local"  name="end" requires/></p>
            <p><input type = "submit" value = "Carregar" /></p>
        </form>
    </div>
</div>  
<br>
{% if read %}
    <table id="view_users" class="table table-striped table-bordered" style="width:80%">
        <thead>
            <tr>
                <th>Sensor</th>
                <th>Valor</th>
                <th>Horário</th>
            </tr>
        </thead>
        <tbody>
            {% for read in read %}
                <tr>
                    <td>{{ read.sensor_id }}</td>
                    <td>{{ read.valor }}</td>
                    <td>{{ read.horario }}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}
{%endblock%}